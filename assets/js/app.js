document.addEventListener("DOMContentLoaded",function(){PubSub.publish("init");for(var e=document.querySelectorAll(".button-order"),t=document.querySelectorAll(".order-modal"),o=document.querySelectorAll(".close"),n=document.querySelectorAll("video"),c=document.querySelectorAll(".staff__video-play"),l=0;l<e.length;l++)e[l].addEventListener("click",function(e){e.preventDefault(),t[0].classList.add("visible")});for(l=0;l<o.length;l++)o[l].addEventListener("click",function(){this.parentNode.parentNode.classList.remove("visible")});c[0].addEventListener("click",function(e){e.stopPropagation(),n[0].paused?n[0].play():n[0].pause()});var r=document.querySelectorAll(".rewiews__item"),i=document.querySelectorAll(".page-pagination__item");for(l=0;l<i.length;l++)i[l].addEventListener("click",function(){for(var e=0;e<i.length;e++)i[e].classList.remove("page-pagination__item--active"),r[e].classList.remove("rewiews__item--active");this.classList.add("page-pagination__item--active"),r[this.dataset.number].classList.add("rewiews__item--active")});var s=document.querySelectorAll(".rewiews__detil");for(l=0;l<s.length;l++)s[l].addEventListener("click",function(){var e=document.querySelectorAll(".abs");console.log(e);for(var t=0;t<e.length;t++)e[t].classList.remove("abs--active");this.children[0].classList.add("abs--active")});var a=document.querySelectorAll(".questions__item");for(document.querySelectorAll(".questions__answers"),l=0;l<a.length;l++)a[l].addEventListener("click",function(){console.log(window.getComputedStyle(this.children[1],null).height),this.children[0].classList.toggle("questions__text--active"),this.children[1].classList.toggle("questions__answers--active")})});var Counter=function(){function e(e){var t=document.querySelector("#days"),o=document.querySelector("#minutes"),n=document.querySelector("#hours"),l=document.querySelector("#sec"),r={days:Math.floor(c/864e5),hours:Math.floor(c%864e5/1e3/60/60),minutes:Math.floor(c%864e5%36e5/1e3/60),sec:Math.floor(c%864e5%36e5%6e4/1e3)};l.textContent=r.sec<10?"0"+r.sec:r.sec,o.textContent=r.minutes,n.textContent=r.hours,t.textContent=r.days}var t,o=new Date,n=new Date(2017,11,7),c=n-o;PubSub.subscribe("init",function(){t=setInterval(function(){(c=Math.round(n-Date.now()))<0?clearInterval(t):e()},1e3)})}(),Calc=function(){var e=document.querySelectorAll(".calc-button")[0],t=document.querySelectorAll(".calc-modal")[0],o=document.querySelectorAll(".slideValue"),n=document.querySelectorAll(".slider"),c=n[0].value,l=document.querySelectorAll(".rooms-count__item--active")[0],r=document.querySelectorAll(".price-offers__item--active")[0],i=document.querySelectorAll(".rooms-count__item"),s=document.querySelectorAll(".price-offers__item");n[0].addEventListener("input",function(){c=n[0].value,o[0].innerHTML=c+" м <sup>2</sup>"});for(var a=0;a<i.length;a++)i[a].addEventListener("click",function(){for(var e=0;e<i.length;e++)i[e].classList.remove("rooms-count__item--active");this.classList.add("rooms-count__item--active"),l=document.querySelectorAll(".rooms-count__item--active")[0]});for(a=0;a<s.length;a++)s[a].addEventListener("click",function(){for(var e=0;e<s.length;e++)s[e].classList.remove("price-offers__item--active");this.classList.add("price-offers__item--active"),r=document.querySelectorAll(".price-offers__item--active")[0]});PubSub.subscribe("init",function(){e.addEventListener("click",function(e){e.preventDefault(),document.querySelectorAll(".calc-modal__rooms")[0].innerHTML=l.innerHTML,document.querySelectorAll(".calc-modal__repair")[0].innerHTML=r.children[1].innerHTML.split(" ")[0],document.querySelectorAll(".calc-modal__sq")[0].innerHTML=c+" м <sup>2</sup>",t.classList.add("visible")})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvdW50ZXIuanMiLCJjYWxjLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIlB1YlN1YiIsInB1Ymxpc2giLCJvcmRlckJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib3JkZXJXaW5kb3ciLCJjbG9zZUJ1dHRvbiIsInZpZGVvIiwicGxheVBhdXNlQnV0dG9uIiwiaSIsImxlbmd0aCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsImFkZCIsInRoaXMiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJwYXVzZWQiLCJwbGF5IiwicGF1c2UiLCJzbGlkZXJJdGVtcyIsInBhZ2luYXRpb25JdGVtcyIsImoiLCJkYXRhc2V0IiwibnVtYmVyIiwiZGV0YWlsQnV0dG9ucyIsImFicyIsImNvbnNvbGUiLCJsb2ciLCJjaGlsZHJlbiIsInF1ZXN0aW9ucyIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJoZWlnaHQiLCJ0b2dnbGUiLCJDb3VudGVyIiwiZGlzcGxheVRpbWUiLCJzZWNvbmRMZWZ0IiwiZGF5cyIsInF1ZXJ5U2VsZWN0b3IiLCJtaW51dGVzIiwiaG91cnMiLCJzZWMiLCJ0aW1lTGVmdCIsIk1hdGgiLCJmbG9vciIsInRleHRDb250ZW50IiwiY291bnRkb3duIiwibm93IiwiRGF0ZSIsInRoZW4iLCJzdWJzY3JpYmUiLCJzZXRJbnRlcnZhbCIsInJvdW5kIiwiY2xlYXJJbnRlcnZhbCIsIkNhbGMiLCJjYWxjQnV0dG9uIiwiY2FsY1dpbmRvdyIsInNsaWRlVmFsdWUiLCJzbGlkZXIiLCJmbGF0U3EiLCJ2YWx1ZSIsImZsYXRUeXBlIiwicmVwYWlyVHlwZSIsImNoZWNrRmxhdFR5cGUiLCJjaGVja1JlcGFpclR5cGUiLCJpbm5lckhUTUwiLCJzcGxpdCJdLCJtYXBwaW5ncyI6IkFBS0FBLFNBQUFDLGlCQUFBLG1CQUFBLFdBRUFDLE9BQUFDLFFBQUEsUUFVQSxJQUFBLElBUkFDLEVBQUFKLFNBQUFLLGlCQUFBLGlCQUVBQyxFQUFBTixTQUFBSyxpQkFBQSxnQkFDQUUsRUFBQVAsU0FBQUssaUJBQUEsVUFDQUcsRUFBQVIsU0FBQUssaUJBQUEsU0FDQUksRUFBQVQsU0FBQUssaUJBQUEsc0JBR0FLLEVBQUEsRUFBQUEsRUFBQU4sRUFBQU8sT0FBQUQsSUFDQU4sRUFBQU0sR0FBQVQsaUJBQUEsUUFBQSxTQUFBVyxHQUNBQSxFQUFBQyxpQkFDQVAsRUFBQSxHQUFBUSxVQUFBQyxJQUFBLGFBSUEsSUFBQUwsRUFBQSxFQUFBQSxFQUFBSCxFQUFBSSxPQUFBRCxJQUNBSCxFQUFBRyxHQUFBVCxpQkFBQSxRQUFBLFdBQ0FlLEtBQUFDLFdBQUFBLFdBQUFILFVBQUFJLE9BQUEsYUFPQVQsRUFBQSxHQUFBUixpQkFBQSxRQUFBLFNBQUFrQixHQUNBQSxFQUFBQyxrQkFDQVosRUFBQSxHQUFBYSxPQUNBYixFQUFBLEdBQUFjLE9BRUFkLEVBQUEsR0FBQWUsVUFVQSxJQUhBQyxFQUFBeEIsU0FBQUssaUJBQUEsa0JBQ0FvQixFQUFBekIsU0FBQUssaUJBQUEsMEJBRUEsSUFBQUssRUFBQSxFQUFBQSxFQUFBZSxFQUFBZCxPQUFBRCxJQUVBZSxFQUFBZixHQUFBVCxpQkFBQSxRQUFBLFdBQ0EsSUFBQSxJQUFBeUIsRUFBQSxFQUFBQSxFQUFBRCxFQUFBZCxPQUFBZSxJQUNBRCxFQUFBQyxHQUFBWixVQUFBSSxPQUFBLGlDQUNBTSxFQUFBRSxHQUFBWixVQUFBSSxPQUFBLHlCQUdBRixLQUFBRixVQUFBQyxJQUFBLGlDQUNBUyxFQUFBUixLQUFBVyxRQUFBQyxRQUFBZCxVQUFBQyxJQUFBLDJCQVVBLElBRkFjLEVBQUE3QixTQUFBSyxpQkFBQSxtQkFFQSxJQUFBSyxFQUFBLEVBQUFBLEVBQUFtQixFQUFBbEIsT0FBQUQsSUFFQW1CLEVBQUFuQixHQUFBVCxpQkFBQSxRQUFBLFdBRUEsSUFBQTZCLEVBQUE5QixTQUFBSyxpQkFBQSxRQUNBMEIsUUFBQUMsSUFBQUYsR0FDQSxJQUFBLElBQUFKLEVBQUEsRUFBQUEsRUFBQUksRUFBQW5CLE9BQUFlLElBQ0FJLEVBQUFKLEdBQUFaLFVBQUFJLE9BQUEsZUFHQUYsS0FBQWlCLFNBQUEsR0FBQW5CLFVBQUFDLElBQUEsaUJBV0EsSUFIQW1CLEVBQUFsQyxTQUFBSyxpQkFBQSxvQkFHQSxJQUZBTCxTQUFBSyxpQkFBQSx1QkFFQUssRUFBQSxFQUFBQSxFQUFBd0IsRUFBQXZCLE9BQUFELElBRUF3QixFQUFBeEIsR0FBQVQsaUJBQUEsUUFBQSxXQUVBOEIsUUFBQUMsSUFBQUcsT0FBQUMsaUJBQUFwQixLQUFBaUIsU0FBQSxHQUFBLE1BQUFJLFFBQ0FyQixLQUFBaUIsU0FBQSxHQUFBbkIsVUFBQXdCLE9BQUEsMkJBQ0F0QixLQUFBaUIsU0FBQSxHQUFBbkIsVUFBQXdCLE9BQUEsa0NDOUZBLElBQUFDLFFBQUEsV0F1QkEsU0FBQUMsRUFBQUMsR0FFQSxJQUFBQyxFQUFBMUMsU0FBQTJDLGNBQUEsU0FDQUMsRUFBQTVDLFNBQUEyQyxjQUFBLFlBQ0FFLEVBQUE3QyxTQUFBMkMsY0FBQSxVQUNBRyxFQUFBOUMsU0FBQTJDLGNBQUEsUUFFQUksR0FkQUwsS0FOQU0sS0FBQUMsTUFBQVIsRUFBQSxPQU9BSSxNQU5BRyxLQUFBQyxNQUFBUixFQUFBLE1BQUEsSUFBQSxHQUFBLElBT0FHLFFBTkFJLEtBQUFDLE1BQUFSLEVBQUEsTUFBQSxLQUFBLElBQUEsSUFPQUssSUFOQUUsS0FBQUMsTUFBQVIsRUFBQSxNQUFBLEtBQUEsSUFBQSxNQW9CQUssRUFBQUksWUFEQUgsRUFBQUQsSUFBQSxHQUNBLElBQUFDLEVBQUFELElBRUFDLEVBQUFELElBRUFGLEVBQUFNLFlBQUFILEVBQUFILFFBQ0FDLEVBQUFLLFlBQUFILEVBQUFGLE1BQ0FILEVBQUFRLFlBQUFILEVBQUFMLEtBcENBLElBR0FTLEVBSEFDLEVBQUEsSUFBQUMsS0FDQUMsRUFBQSxJQUFBRCxLQUFBLEtBQUEsR0FBQSxHQUNBWixFQUFBYSxFQUFBRixFQWdEQWxELE9BQUFxRCxVQUFBLE9BWEEsV0FDQUosRUFBQUssWUFBQSxZQUNBZixFQUFBTyxLQUFBUyxNQUFBSCxFQUFBRCxLQUFBRCxRQUNBLEVBQ0FNLGNBQUFQLEdBR0FYLEtBQ0EsT0FsREEsR0NBQW1CLEtBQUEsV0FFQSxJQUFBQyxFQUFBNUQsU0FBQUssaUJBQUEsZ0JBQUEsR0FDQXdELEVBQUE3RCxTQUFBSyxpQkFBQSxlQUFBLEdBRUF5RCxFQUFBOUQsU0FBQUssaUJBQUEsZUFDQTBELEVBQUEvRCxTQUFBSyxpQkFBQSxXQUVBMkQsRUFBQUQsRUFBQSxHQUFBRSxNQUNBQyxFQUFBbEUsU0FBQUssaUJBQUEsOEJBQUEsR0FDQThELEVBQUFuRSxTQUFBSyxpQkFBQSwrQkFBQSxHQUVBK0QsRUFBQXBFLFNBQUFLLGlCQUFBLHNCQUNBZ0UsRUFBQXJFLFNBQUFLLGlCQUFBLHVCQUdBMEQsRUFBQSxHQUFBOUQsaUJBQUEsUUFBQSxXQUNBK0QsRUFBQUQsRUFBQSxHQUFBRSxNQUNBSCxFQUFBLEdBQUFRLFVBQUFOLEVBQUEsb0JBSUEsSUFBQSxJQUFBdEQsRUFBQSxFQUFBQSxFQUFBMEQsRUFBQXpELE9BQUFELElBQ0EwRCxFQUFBMUQsR0FBQVQsaUJBQUEsUUFBQSxXQUNBLElBQUEsSUFBQXlCLEVBQUEsRUFBQUEsRUFBQTBDLEVBQUF6RCxPQUFBZSxJQUNBMEMsRUFBQTFDLEdBQUFaLFVBQUFJLE9BQUEsNkJBRUFGLEtBQUFGLFVBQUFDLElBQUEsNkJBQ0FtRCxFQUFBbEUsU0FBQUssaUJBQUEsOEJBQUEsS0FJQSxJQUFBSyxFQUFBLEVBQUFBLEVBQUEyRCxFQUFBMUQsT0FBQUQsSUFDQTJELEVBQUEzRCxHQUFBVCxpQkFBQSxRQUFBLFdBQ0EsSUFBQSxJQUFBeUIsRUFBQSxFQUFBQSxFQUFBMkMsRUFBQTFELE9BQUFlLElBQ0EyQyxFQUFBM0MsR0FBQVosVUFBQUksT0FBQSw4QkFHQUYsS0FBQUYsVUFBQUMsSUFBQSw4QkFDQW9ELEVBQUFuRSxTQUFBSyxpQkFBQSwrQkFBQSxLQWFBSCxPQUFBcUQsVUFBQSxPQVRBLFdBQ0FLLEVBQUEzRCxpQkFBQSxRQUFBLFNBQUFXLEdBQ0FBLEVBQUFDLGlCQUNBYixTQUFBSyxpQkFBQSxzQkFBQSxHQUFBaUUsVUFBQUosRUFBQUksVUFDQXRFLFNBQUFLLGlCQUFBLHVCQUFBLEdBQUFpRSxVQUFBSCxFQUFBbEMsU0FBQSxHQUFBcUMsVUFBQUMsTUFBQSxLQUFBLEdBQ0F2RSxTQUFBSyxpQkFBQSxtQkFBQSxHQUFBaUUsVUFBQU4sRUFBQSxrQkFDQUgsRUFBQS9DLFVBQUFDLElBQUEsZUFqREEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyooZnVuY3Rpb24oKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIGNvbnNvbGUubG9nKCdIZWxsbycpO1xyXG59KSgpO1xyXG4qL1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpe1xyXG5cclxuICBQdWJTdWIucHVibGlzaCggJ2luaXQnKTtcclxuICBcclxuICB2YXIgb3JkZXJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbi1vcmRlcicpLFxyXG4gICAgICBcclxuICAgICAgb3JkZXJXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3JkZXItbW9kYWwnKSxcclxuICAgICAgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKSxcclxuICAgICAgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpLFxyXG4gICAgICBwbGF5UGF1c2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmZfX3ZpZGVvLXBsYXknKTtcclxuXHJcbiAgLy8g0L7RgtC60YDRi9GC0LjQtSDQuCDQt9Cw0LrRgNGL0YLQuNC1INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlckJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIG9yZGVyQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgb3JkZXJXaW5kb3dbMF0uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgfSlcclxuICB9O1xyXG4gIFxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvc2VCdXR0b24ubGVuZ3RoOyBpKyspIHtcclxuICAgIGNsb3NlQnV0dG9uW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfSlcclxuICB9O1xyXG4gXHJcblxyXG5cclxuICAvLyDQodC60YDQuNC/0YLRiyDQtNC70Y8g0LLQuNC00LXQvlxyXG4gIHBsYXlQYXVzZUJ1dHRvblswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmICh2aWRlb1swXS5wYXVzZWQpIHtcclxuICAgICAgdmlkZW9bMF0ucGxheSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlkZW9bMF0ucGF1c2UoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4gIC8vINCU0LvRjyDRgdC70LDQudC00LXRgNCwINGBINC+0YLQt9GL0LLQsNC80LggXHJcblxyXG4gIHZhciBzbGlkZXJJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXdpZXdzX19pdGVtJyksXHJcbiAgICAgIHBhZ2luYXRpb25JdGVtcyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZS1wYWdpbmF0aW9uX19pdGVtJyk7XHJcblxyXG4gIGZvcih2YXIgaT0wOyBpPHBhZ2luYXRpb25JdGVtcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgIHBhZ2luYXRpb25JdGVtc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhZ2luYXRpb25JdGVtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIHBhZ2luYXRpb25JdGVtc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdwYWdlLXBhZ2luYXRpb25fX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgIHNsaWRlckl0ZW1zW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ3Jld2lld3NfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3BhZ2UtcGFnaW5hdGlvbl9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgIHNsaWRlckl0ZW1zW3RoaXMuZGF0YXNldC5udW1iZXJdLmNsYXNzTGlzdC5hZGQoJ3Jld2lld3NfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICBcclxuICAgICAgLy9zbGlkZXJJdGVtc1tpXS5jbGFzc0xpc3QuYWRkKCdyZXdpZXdzX19pdGVtLS1hY3RpdmUnKTtcclxuICAgICAgXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcblxyXG4gIHZhciBkZXRhaWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJld2lld3NfX2RldGlsJyk7XHJcbiAgICBcclxuICBmb3IodmFyIGk9MDsgaTxkZXRhaWxCdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBcclxuICAgIGRldGFpbEJ1dHRvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICB2YXIgYWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFicycpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYWJzKTtcclxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYWJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGFic1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhYnMtLWFjdGl2ZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC5hZGQoJ2Ficy0tYWN0aXZlJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgXHJcblxyXG5cclxuLy8g0KHQtdC60YbQuNGPINCy0L7Qv9GA0L7RgdGLXHJcblxyXG52YXIgcXVlc3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19faXRlbScpO1xyXG52YXIgYW5zdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fYW5zd2VycycpO1xyXG5cclxuZm9yKHZhciBpPTA7IGk8cXVlc3Rpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgXHJcbiAgcXVlc3Rpb25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2cod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jaGlsZHJlblsxXSwgbnVsbCkuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC50b2dnbGUoJ3F1ZXN0aW9uc19fdGV4dC0tYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlblsxXS5jbGFzc0xpc3QudG9nZ2xlKCdxdWVzdGlvbnNfX2Fuc3dlcnMtLWFjdGl2ZScpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG59KTsiLCJ2YXIgQ291bnRlciA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgICBcclxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIHRoZW4gPSBuZXcgRGF0ZSAoMjAxNywgMTEsIDcpO1xyXG4gICAgdmFyIHNlY29uZExlZnQgPSB0aGVuIC1ub3c7XHJcbiAgICB2YXIgY291bnRkb3duLCBzZWNvbmRMZWZ0O1xyXG5cclxuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybVRpbWUobXMpIHtcclxuXHJcbiAgICAgICAgdmFyIGRheUxlZnQgPSBNYXRoLmZsb29yKHNlY29uZExlZnQvODY0MDAwMDApLFxyXG4gICAgICAgICAgICBob3Vyc0xlZnQgPSAgTWF0aC5mbG9vcigoc2Vjb25kTGVmdCU4NjQwMDAwMCkvMTAwMC82MC82MCksXHJcbiAgICAgICAgICAgIG1pbkxlZnQgPSBNYXRoLmZsb29yKCgoc2Vjb25kTGVmdCU4NjQwMDAwMCklMzYwMDAwMCkvMTAwMC82MCksXHJcbiAgICAgICAgICAgIHNlY0xlZnQgPSBNYXRoLmZsb29yKCgoKHNlY29uZExlZnQlODY0MDAwMDApJTM2MDAwMDApJTYwMDAwKS8xMDAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF5czogZGF5TGVmdCxcclxuICAgICAgICAgICAgaG91cnM6IGhvdXJzTGVmdCxcclxuICAgICAgICAgICAgbWludXRlczogbWluTGVmdCxcclxuICAgICAgICAgICAgc2VjOiAgIHNlY0xlZnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzcGxheVRpbWUoc2Vjb25kTGVmdCkge1xyXG5cclxuICAgICAgICB2YXIgZGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXlzJyksXHJcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWludXRlcycpLFxyXG4gICAgICAgICAgICBob3VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob3VycycpLFxyXG4gICAgICAgICAgICBzZWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VjJyk7XHJcblxyXG4gICAgICAgIHZhciB0aW1lTGVmdCA9IHRyYW5zZm9ybVRpbWUoc2Vjb25kTGVmdCk7XHJcblxyXG4gICAgICAgIGlmICh0aW1lTGVmdC5zZWMgPCAxMCkge1xyXG4gICAgICAgICAgICBzZWMudGV4dENvbnRlbnQgPSAnMCcrdGltZUxlZnQuc2VjO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlYy50ZXh0Q29udGVudCA9IHRpbWVMZWZ0LnNlYztcclxuICAgICAgICB9IFxyXG4gICAgICAgICAgICBtaW51dGVzLnRleHRDb250ZW50ID0gdGltZUxlZnQubWludXRlcztcclxuICAgICAgICAgICAgaG91cnMudGV4dENvbnRlbnQgPSB0aW1lTGVmdC5ob3VycztcclxuICAgICAgICAgICAgZGF5cy50ZXh0Q29udGVudCA9IHRpbWVMZWZ0LmRheXM7XHJcbiAgICB9O1xyXG4gIFxyXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb3VudGRvd24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWNvbmRMZWZ0ID0gTWF0aC5yb3VuZCgodGhlbiAtIERhdGUubm93KCkpKTtcclxuICAgICAgICBpZihzZWNvbmRMZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzcGxheVRpbWUoc2Vjb25kTGVmdClcclxuICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCAnaW5pdCcsIGluaXQgKTtcclxuXHJcbn0pKCk7IiwidmFyIENhbGMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdmFyIGNhbGNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FsYy1idXR0b24nKVswXSxcclxuICAgICAgICBjYWxjV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGMtbW9kYWwnKVswXSxcclxuXHJcbiAgICAgICAgc2xpZGVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZVZhbHVlJyksXHJcbiAgICAgICAgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcicpLFxyXG5cclxuICAgICAgICBmbGF0U3EgPSBzbGlkZXJbMF0udmFsdWUsXHJcbiAgICAgICAgZmxhdFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm9vbXMtY291bnRfX2l0ZW0tLWFjdGl2ZScpWzBdLFxyXG4gICAgICAgIHJlcGFpclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJpY2Utb2ZmZXJzX19pdGVtLS1hY3RpdmUnKVswXSxcclxuXHJcbiAgICAgICAgY2hlY2tGbGF0VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb29tcy1jb3VudF9faXRlbScpLFxyXG4gICAgICAgIGNoZWNrUmVwYWlyVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmljZS1vZmZlcnNfX2l0ZW0nKTtcclxuXHJcbiAgICAgICAgIC8vINC40LfQvNC10L3Rj9C10Lwg0L/Qu9C+0YnQsNC00Ywg0LrQstCw0YDRgtC40YDRi1xyXG4gICAgICAgIHNsaWRlclswXS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgZmxhdFNxID0gc2xpZGVyWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICBzbGlkZVZhbHVlWzBdLmlubmVySFRNTCA9IGZsYXRTcSArICcg0LwgPHN1cD4yPC9zdXA+JztcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyDQv9C+0LvRg9GH0LDQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC60L7QvNC90LDRglxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tGbGF0VHlwZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjaGVja0ZsYXRUeXBlW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoZWNrRmxhdFR5cGUubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRmxhdFR5cGVbal0uY2xhc3NMaXN0LnJlbW92ZSgncm9vbXMtY291bnRfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgncm9vbXMtY291bnRfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBmbGF0VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb29tcy1jb3VudF9faXRlbS0tYWN0aXZlJylbMF07IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQuNC/INGA0LXQvNC+0L3RgtCwXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja1JlcGFpclR5cGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2hlY2tSZXBhaXJUeXBlW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoZWNrUmVwYWlyVHlwZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZXBhaXJUeXBlW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByaWNlLW9mZmVyc19faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3ByaWNlLW9mZmVyc19faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHJlcGFpclR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJpY2Utb2ZmZXJzX19pdGVtLS1hY3RpdmUnKVswXTsgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGNhbGNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYWxjLW1vZGFsX19yb29tcycpWzBdLmlubmVySFRNTCA9IGZsYXRUeXBlLmlubmVySFRNTDtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGMtbW9kYWxfX3JlcGFpcicpWzBdLmlubmVySFRNTCA9IHJlcGFpclR5cGUuY2hpbGRyZW5bMV0uaW5uZXJIVE1MLnNwbGl0KFwiIFwiKVswXTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGMtbW9kYWxfX3NxJylbMF0uaW5uZXJIVE1MID0gZmxhdFNxICsgJyDQvCA8c3VwPjI8L3N1cD4nO1xyXG4gICAgICAgICAgICBjYWxjV2luZG93LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9ICBcclxuICAgICAgdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSggJ2luaXQnLCBpbml0ICk7XHJcbiAgXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
