document.addEventListener("DOMContentLoaded",function(){function e(){for(var e=0;e<_.length;e++)_[e].classList.remove("page-pagination__item--active")}function t(){for(var e=0;e<L.length;e++)L[e].classList.remove("slider__item_active")}function n(e){t(),_=document.querySelectorAll(".page-pagination__item"),L[e].classList.add("slider__item_active"),_[e].classList.add("page-pagination__item--active")}PubSub.publish("init");var c,i=document.getElementById("close-nav"),o=document.querySelector(".main-nav"),l=document.querySelector(".nav-button"),r=document.querySelectorAll(".main-nav__item");for(v=0;v<r.length;v++)r[v].addEventListener("click",function(e){e.preventDefault(),c=e.target.getAttribute("href").slice(1),o.classList.remove("main-nav_active"),window.scrollTo(0,document.getElementById(c).offsetTop)});i.addEventListener("click",function(){console.log("click"),o.classList.remove("main-nav_active")}),l.addEventListener("click",function(){console.log("click"),o.classList.add("main-nav_active")});for(var a=document.querySelectorAll(".button-order"),s=document.querySelectorAll(".order-modal"),u=document.querySelectorAll(".close"),d=document.querySelectorAll("video"),m=document.querySelectorAll(".staff__video-play"),v=0;v<a.length;v++)a[v].addEventListener("click",function(e){e.preventDefault(),s[0].classList.add("visible")});for(v=0;v<u.length;v++)u[v].addEventListener("click",function(){this.parentNode.parentNode.classList.remove("visible")});m[0].addEventListener("click",function(e){e.stopPropagation(),d[0].paused?d[0].play():d[0].pause()});var _,f,L=document.querySelectorAll(".rewiews__item"),g=document.querySelector("#arrow-left"),h=document.querySelector("#arrow-right"),q=(document.querySelector(".slider"),document.querySelector(".page-pagination--linear")),y=0;g.addEventListener("click",function(){0===y&&(y=L.length),t(),e(),L[y-1].classList.add("slider__item_active"),_[y-1].classList.add("page-pagination__item--active"),y--}),h.addEventListener("click",function(){y===L.length-1&&(y=-1),t(),e(),L[y+1].classList.add("slider__item_active"),_[y+1].classList.add("page-pagination__item--active"),y++}),function(){for(var t=0;t<L.length;t++)(f=document.createElement("div")).className="page-pagination__item",q.appendChild(f),f.addEventListener("click",function(t){_=document.querySelectorAll(".page-pagination__item"),e();for(var c=0;c<q.children.length;c++)q.children[c]==t.target&&(y=c);n(y)})}(),n(0);var p=document.querySelectorAll(".rewiews__detil");for(v=0;v<p.length;v++)p[v].addEventListener("click",function(){var e=document.querySelectorAll(".abs");console.log(e);for(var t=0;t<e.length;t++)e[t].classList.remove("abs--active");this.children[0].classList.add("abs--active")});var S=document.querySelectorAll(".questions__item"),A=document.querySelectorAll(".questions__answers");for(v=0;v<S.length;v++)S[v].addEventListener("click",function(){if(!this.children[0].classList.contains("questions__text--active"))for(console.log("no"),j=0;j<S.length;j++)S[j].children[0].classList.remove("questions__text--active"),A[j].classList.remove("questions__answers--active");this.children[0].classList.toggle("questions__text--active"),this.children[1].classList.toggle("questions__answers--active")})});var Counter=function(){function e(e){var t=document.querySelector("#days"),n=document.querySelector("#minutes"),c=document.querySelector("#hours"),o=document.querySelector("#sec"),l={days:Math.floor(i/864e5),hours:Math.floor(i%864e5/1e3/60/60),minutes:Math.floor(i%864e5%36e5/1e3/60),sec:Math.floor(i%864e5%36e5%6e4/1e3)};o.textContent=l.sec<10?"0"+l.sec:l.sec,n.textContent=l.minutes,c.textContent=l.hours,t.textContent=l.days}var t,n=new Date,c=new Date(2017,11,20),i=c-n;PubSub.subscribe("init",function(){t=setInterval(function(){(i=Math.round(c-Date.now()))<0?clearInterval(t):e()},1e3)})}(),Calc=function(){var e=document.querySelectorAll(".calc-button")[0],t=document.querySelectorAll(".calc-modal")[0],n=document.querySelectorAll(".slideValue"),c=document.querySelectorAll(".slider"),i=c[0].value,o=document.querySelectorAll(".rooms-count__item--active")[0],l=document.querySelectorAll(".price-offers__item--active")[0],r=document.querySelectorAll(".rooms-count__item"),a=document.querySelectorAll(".price-offers__item");c[0].addEventListener("input",function(){i=c[0].value,n[0].innerHTML=i+" м <sup>2</sup>"});for(var s=0;s<r.length;s++)r[s].addEventListener("click",function(){for(var e=0;e<r.length;e++)r[e].classList.remove("rooms-count__item--active");this.classList.add("rooms-count__item--active"),o=document.querySelectorAll(".rooms-count__item--active")[0]});for(s=0;s<a.length;s++)a[s].addEventListener("click",function(){for(var e=0;e<a.length;e++)a[e].classList.remove("price-offers__item--active");this.classList.add("price-offers__item--active"),l=document.querySelectorAll(".price-offers__item--active")[0]});PubSub.subscribe("init",function(){e.addEventListener("click",function(e){e.preventDefault(),document.querySelectorAll(".calc-modal__rooms")[0].innerHTML=o.innerHTML,document.querySelectorAll(".calc-modal__repair")[0].innerHTML=l.children[1].innerHTML.split(" ")[0],document.querySelectorAll(".calc-modal__sq")[0].innerHTML=i+" м <sup>2</sup>",document.querySelector(".calc-modal__cost").innerHTML=l.children[0].innerHTML,t.classList.add("visible")})})}();